<html>
<head>
    <meta charset="UTF-8">
    <title>Authored Files Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/plug-ins/1.12.1/sorting/file-size.js"></script>
</head>
<body>
<H1>Authored Files:</H1>
<H3>{{$.UsedSpace}}</H3>
<table id="inlined-data" class="table table-striped table-bordered" style="width:100%" >
    <thead>
    <tr>
        <th>Name</th>
        <th>Size</th>
        <th>Author</th>
        <th>Updated</th>
        <th>Direct Link</th>
    </tr>
    </thead>
    {{each $.Files }}
    <tr>
        <td><a href='https://authored-files.wabbajack.org/{{$.Definition.MungedName}}'>{{$.Definition.OriginalFileName}}</a></td>
        <td>{{$.HumanSize}}</td>
        <td>{{$.Definition.Author}}</td>
        <td>{{$.Updated}}</td>
        <td><a href='https://workers.wabbajack.workers.dev/authored_files/stream/{{$.Definition.MungedName}}'>(Slow) HTTP Direct Link</a></td>
    </tr>
    {{/each}}
</table>

<script>
    $(document).ready( function () {
        $("#inlined-data").DataTable({
            columnDefs: [
                { type: 'file-size', targets: 1},
            ]
        });
    } );
</script>
</body></html>