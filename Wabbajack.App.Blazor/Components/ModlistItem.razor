@namespace Wabbajack.App.Blazor.Components
@using Wabbajack.App.Blazor.Store
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<div class="item">
    <div class="display">
        <img src="@Metadata.Links.ImageUri" class="image" alt="@Metadata.Title Image">
        <div class="interaction">
            @if (_installState.Value.CurrentInstallState != InstallState.InstallStateEnum.Configuration)
            {
                <img src="images/icons/install.svg" class="install hidden" alt="Install">
            }
            else
            {
                <img src="images/icons/install.svg" class="install" alt="Install" @onclick="Download">
            }
            <img src="images/icons/info.svg" class="more" alt="Information">
        </div>
    </div>
    @if (_installState.Value.CurrentInstallState == InstallState.InstallStateEnum.Downloading && _installState.Value.CurrentModlistMetadata == Metadata)
    {
        <Progress Percentage=PercentDownloaded></Progress>
    }
    <div class="info">
        <div class="title">@Metadata.Title</div>
        <div class="author">@Metadata.Author</div>
        <div class="description">@Metadata.Description</div>
    </div>
    <div class="tags"></div>
</div>